{% extends 'organizerBase.html' %}
{% load static %}

{% block title %}
organizer
{% endblock title %}

{% block style %}

<link rel="stylesheet" type="text/css" href="{% static 'header.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'organizerCSS/events_page.css' %}">
{% endblock style%}

{% block content %}
<div class="header">
    <div style="display: flex; flex-direction: row; align-items: center; gap: 1.5rem;">
        <img class="profileImage"
            src="{% if user_instance.profile_image %}{{user_instance.profile_image.url}}{% else %} /media/images/profile_default.png{%endif%}" />
        <div class="headerInfo">
            <h2 class="userName">Olá, {{request.user.first_name}} {{request.user.last_name}}!</h2>
            <p class="welcome">Bem-vindo ao App Qualafesta!</p>
        </div>
    </div>
    <a href="/logout"><img src="{% static '/images/logoutIcon.svg' %}" style="width: 2.5rem; margin: 0 1.5rem;"></a>
</div>
<h1>Meus Eventos</h1>

{% if user.is_authenticated %}
<p>Eventos do organizador</p>
<div class="events-section">
    {% if event_list %}
    {% for event in event_list %}
    <div class="event-div">
        <img src="{% if event.thumb_image %}{{event.thumb_image.url}}{% else %} /media/images/profile_default.png{%endif%}"
            class="event-image" alt="{{event.name}} event Image">
        <div class="event-content">
            <h3><a href="{% url 'qualafesta:detail_event' event.id %}" class="event-link">{{event.name}}</a></h3>
            <p><a href="{% url 'qualafesta:detail_event' event.id %}" class="event-link">{{event.date_time}}</a></p>
            <p><a href="{% url 'qualafesta:detail_event' event.id %}" class="event-link">{{event.location}}</a></p>
            <p><a href="{% url 'qualafesta:detail_event' event.id %}" class="event-link">{{event.capacity}}</a></p>
        </div>
    </div>
    {% endfor %}
    {% else %}
    <p>Sem eventos disponíveis</p>
    {% endif %}
    <a href="{% url 'qualafesta:create_event' %}" style="margin-top: 2.5vh; margin-bottom: 5vh;"><button
            class="add-button">+
            Adicionar</button></a>
</div>

{% else %}
<p id='not-auth'>FAÇA O LOGIN PARA TER ACESSO À PÁGINA</p>
{% endif %}

{% endblock %}